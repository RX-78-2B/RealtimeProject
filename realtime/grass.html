<!DOCTYPE html>
<!-- saved from url=(0052)http://babylonjs-extras.azurewebsites.net/grass.html -->
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <title>Babylon.js grass material demo</title>
    
    <script src="babylon.max.js" type="text/javascript"></script>
	<script src="output.js" type="text/javascript"></script>
	
    <style>
        html, body {
            overflow-x: hidden;
            overflow-y: hidden;
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
            touch-action: none;
            -ms-touch-action: none;
        }

        #renderCanvas {
            width: 100%;
            height: 100%;
        }
    </style>
</head>
<body>
	<canvas id="renderCanvas" width="1362" height="969"></canvas>
    
	<script type="text/javascript">
		var canvas = document.getElementById("renderCanvas");
	    
        var engine = new BABYLON.Engine(canvas);
        var scene = new BABYLON.Scene(engine);
        
        var camera = new BABYLON.FreeCamera("camera", new BABYLON.Vector3(206, 42, -207), scene);
        camera.setTarget(new BABYLON.Vector3(205, 41.5, -206));
        camera.attachControl(canvas);
        
        var light = new BABYLON.PointLight("light", new BABYLON.Vector3(15, 15, 15), scene);
        
        var mesh = BABYLON.Mesh.CreateGround(name, 512, 512, 64, scene, true);
        BABYLON.Utils.makePlanarMapping(mesh, 0.4);
        
        BABYLON.Engine.ShadersRepository = "./shaders/";
        var grass = new BABYLON.GrassMaterial("grass", scene,"16.0", "64.0");
        grass.bladesTexture = new BABYLON.Texture("textures/s_grassblades.tga", scene, false, false);
        grass.groundTexture = new BABYLON.Texture("textures/m_grass_ground.tga", scene, false, false);
        grass.windTexture = new BABYLON.Texture("textures/windnoise.tga", scene, false, false);
        mesh.material = grass;
        
        var rootMesh = new BABYLON.Mesh("root", scene);
        rootMesh.scaling = new BABYLON.Vector3(0.2, 0.2, 0.2);
        
        BABYLON.SceneLoader.ImportMesh("", "models/grass_tree/", "grass.babylon", scene, function(meshes) {
            for (var i=0; i < meshes.length; i++) {
                if (!meshes[i].parent) {
                    meshes[i].parent = rootMesh;
                }
            }
        });
        
        var box = BABYLON.Mesh.CreateBox("box", 10, scene);
        
        engine.runRenderLoop(function() {
           scene.render(); 
        });
        
	</script>
	

	</body></html>